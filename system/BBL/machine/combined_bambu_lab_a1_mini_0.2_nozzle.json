{
    "auxiliary_fan": "0",
    "bed_exclude_area": [],
    "bed_temperature_formula": "by_first_filament",
    "best_object_pos": "0.7x0.5",
    "change_filament_gcode": [
        ";===== A1mini 20250206 =====",
        "G392 S0",
        "M1007 S0",
        "M620 S[next_extruder]A",
        "M204 S9000",
        "G1 Z{max_layer_z + 3.0} F1200",
        "",
        "M400",
        "M106 P1 S0",
        "M106 P2 S0",
        "{if old_filament_temp > 142 && next_extruder < 255}",
        "M104 S[old_filament_temp]",
        "{endif}",
        "",
        "G1 X180 F18000",
        "",
        "{if long_retractions_when_cut[previous_extruder]}",
        "M620.11 S1 I[previous_extruder] E-{retraction_distances_when_cut[previous_extruder]} F1200",
        "{else}",
        "M620.11 S0",
        "{endif}",
        "M400",
        "",
        "M620.1 E F[old_filament_e_feedrate] T{nozzle_temperature_range_high[previous_extruder]}",
        "M620.10 A0 F[old_filament_e_feedrate]",
        "T[next_extruder]",
        "M620.1 E F[new_filament_e_feedrate] T{nozzle_temperature_range_high[next_extruder]}",
        "M620.10 A1 F[new_filament_e_feedrate] L[flush_length] H[nozzle_diameter] T[nozzle_temperature_range_high]",
        "",
        "G1 Y90 F9000",
        "",
        "{if next_extruder < 255}",
        "",
        "{if long_retractions_when_cut[previous_extruder]}",
        "M620.11 S1 I[previous_extruder] E{retraction_distances_when_cut[previous_extruder]} F{old_filament_e_feedrate}",
        "M628 S1",
        "G92 E0",
        "G1 E{retraction_distances_when_cut[previous_extruder]} F[old_filament_e_feedrate]",
        "M400",
        "M629 S1",
        "{else}",
        "M620.11 S0",
        "{endif}",
        "",
        "M400",
        "G92 E0",
        "M628 S0",
        "",
        "{if flush_length_1 > 1}",
        "; FLUSH_START",
        "; always use highest temperature to flush",
        "M400",
        "M1002 set_filament_type:UNKNOWN",
        "M109 S[nozzle_temperature_range_high]",
        "M106 P1 S60",
        "{if flush_length_1 > 23.7}",
        "G1 E23.7 F{old_filament_e_feedrate} ; do not need pulsatile flushing for start part",
        "G1 E{(flush_length_1 - 23.7) * 0.02} F50",
        "G1 E{(flush_length_1 - 23.7) * 0.23} F{old_filament_e_feedrate}",
        "G1 E{(flush_length_1 - 23.7) * 0.02} F50",
        "G1 E{(flush_length_1 - 23.7) * 0.23} F{new_filament_e_feedrate}",
        "G1 E{(flush_length_1 - 23.7) * 0.02} F50",
        "G1 E{(flush_length_1 - 23.7) * 0.23} F{new_filament_e_feedrate}",
        "G1 E{(flush_length_1 - 23.7) * 0.02} F50",
        "G1 E{(flush_length_1 - 23.7) * 0.23} F{new_filament_e_feedrate}",
        "{else}",
        "G1 E{flush_length_1} F{old_filament_e_feedrate}",
        "{endif}",
        "; FLUSH_END",
        "G1 E-[old_retract_length_toolchange] F1800",
        "G1 E[old_retract_length_toolchange] F300",
        "M400",
        "M1002 set_filament_type:{filament_type[next_extruder]}",
        "{endif}",
        "",
        "{if flush_length_1 > 45 && flush_length_2 > 1}",
        "; WIPE",
        "M400",
        "M106 P1 S178",
        "M400 S3",
        "G1 X-3.5 F18000",
        "G1 X-13.5 F3000",
        "G1 X-3.5 F18000",
        "G1 X-13.5 F3000",
        "G1 X-3.5 F18000",
        "G1 X-13.5 F3000",
        "M400",
        "M106 P1 S0",
        "{endif}",
        "",
        "{if flush_length_2 > 1}",
        "M106 P1 S60",
        "; FLUSH_START",
        "G1 E{flush_length_2 * 0.18} F{new_filament_e_feedrate}",
        "G1 E{flush_length_2 * 0.02} F50",
        "G1 E{flush_length_2 * 0.18} F{new_filament_e_feedrate}",
        "G1 E{flush_length_2 * 0.02} F50",
        "G1 E{flush_length_2 * 0.18} F{new_filament_e_feedrate}",
        "G1 E{flush_length_2 * 0.02} F50",
        "G1 E{flush_length_2 * 0.18} F{new_filament_e_feedrate}",
        "G1 E{flush_length_2 * 0.02} F50",
        "G1 E{flush_length_2 * 0.18} F{new_filament_e_feedrate}",
        "G1 E{flush_length_2 * 0.02} F50",
        "; FLUSH_END",
        "G1 E-[new_retract_length_toolchange] F1800",
        "G1 E[new_retract_length_toolchange] F300",
        "{endif}",
        "",
        "{if flush_length_2 > 45 && flush_length_3 > 1}",
        "; WIPE",
        "M400",
        "M106 P1 S178",
        "M400 S3",
        "G1 X-3.5 F18000",
        "G1 X-13.5 F3000",
        "G1 X-3.5 F18000",
        "G1 X-13.5 F3000",
        "G1 X-3.5 F18000",
        "G1 X-13.5 F3000",
        "M400",
        "M106 P1 S0",
        "{endif}",
        "",
        "{if flush_length_3 > 1}",
        "M106 P1 S60",
        "; FLUSH_START",
        "G1 E{flush_length_3 * 0.18} F{new_filament_e_feedrate}",
        "G1 E{flush_length_3 * 0.02} F50",
        "G1 E{flush_length_3 * 0.18} F{new_filament_e_feedrate}",
        "G1 E{flush_length_3 * 0.02} F50",
        "G1 E{flush_length_3 * 0.18} F{new_filament_e_feedrate}",
        "G1 E{flush_length_3 * 0.02} F50",
        "G1 E{flush_length_3 * 0.18} F{new_filament_e_feedrate}",
        "G1 E{flush_length_3 * 0.02} F50",
        "G1 E{flush_length_3 * 0.18} F{new_filament_e_feedrate}",
        "G1 E{flush_length_3 * 0.02} F50",
        "; FLUSH_END",
        "G1 E-[new_retract_length_toolchange] F1800",
        "G1 E[new_retract_length_toolchange] F300",
        "{endif}",
        "",
        "{if flush_length_3 > 45 && flush_length_4 > 1}",
        "; WIPE",
        "M400",
        "M106 P1 S178",
        "M400 S3",
        "G1 X-3.5 F18000",
        "G1 X-13.5 F3000",
        "G1 X-3.5 F18000",
        "G1 X-13.5 F3000",
        "G1 X-3.5 F18000",
        "G1 X-13.5 F3000",
        "M400",
        "M106 P1 S0",
        "{endif}",
        "",
        "{if flush_length_4 > 1}",
        "M106 P1 S60",
        "; FLUSH_START",
        "G1 E{flush_length_4 * 0.18} F{new_filament_e_feedrate}",
        "G1 E{flush_length_4 * 0.02} F50",
        "G1 E{flush_length_4 * 0.18} F{new_filament_e_feedrate}",
        "G1 E{flush_length_4 * 0.02} F50",
        "G1 E{flush_length_4 * 0.18} F{new_filament_e_feedrate}",
        "G1 E{flush_length_4 * 0.02} F50",
        "G1 E{flush_length_4 * 0.18} F{new_filament_e_feedrate}",
        "G1 E{flush_length_4 * 0.02} F50",
        "G1 E{flush_length_4 * 0.18} F{new_filament_e_feedrate}",
        "G1 E{flush_length_4 * 0.02} F50",
        "; FLUSH_END",
        "{endif}",
        "",
        "M629",
        "",
        "M400",
        "M106 P1 S60",
        "M109 S[new_filament_temp]",
        "G1 E5 F{new_filament_e_feedrate} ;Compensate for filament spillage during waiting temperature",
        "M400",
        "G92 E0",
        "G1 E-[new_retract_length_toolchange] F1800",
        "M400",
        "M106 P1 S178",
        "M400 S3",
        "G1 X-3.5 F18000",
        "G1 X-13.5 F3000",
        "G1 X-3.5 F18000",
        "G1 X-13.5 F3000",
        "G1 X-3.5 F18000",
        "G1 X-13.5 F3000",
        "G1 X-3.5 F18000",
        "G1 X-13.5 F3000",
        "M400",
        "G1 Z{max_layer_z + 3.0} F3000",
        "M106 P1 S0",
        "{if layer_z <= (initial_layer_print_height + 0.001)}",
        "M204 S[initial_layer_acceleration]",
        "{else}",
        "M204 S[default_acceleration]",
        "{endif}",
        "{else}",
        "G1 X[x_after_toolchange] Y[y_after_toolchange] Z[z_after_toolchange] F12000",
        "{endif}",
        "",
        "M622.1 S0",
        "M9833 F{outer_wall_volumetric_speed/2.4} A0.3 ; cali dynamic extrusion compensation",
        "M1002 judge_flag filament_need_cali_flag",
        "M622 J1",
        "  G92 E0",
        "  G1 E-[new_retract_length_toolchange] F1800",
        "  M400",
        "  ",
        "  M106 P1 S178",
        "  M400 S7",
        "  G1 X0 F18000",
        "  G1 X-13.5 F3000",
        "  G1 X0 F18000 ;wipe and shake",
        "  G1 X-13.5 F3000",
        "  G1 X0 F12000 ;wipe and shake",
        "  G1 X-13.5 F3000",
        "  G1 X0 F12000 ;wipe and shake",
        "  M400",
        "  M106 P1 S0 ",
        "M623",
        "",
        "M621 S[next_extruder]A",
        "G392 S0",
        "",
        "M1007 S1",
        ""
    ],
    "default_filament_profile": [
        "Bambu PLA Basic @BBL A1M 0.2 nozzle"
    ],
    "default_nozzle_volume_type": [
        "Standard"
    ],
    "default_print_profile": "0.10mm Standard @BBL A1M 0.2 nozzle",
    "deretraction_speed": [
        "30"
    ],
    "enable_long_retraction_when_cut": "2",
    "enable_pre_heating": "0",
    "extruder_clearance_dist_to_rod": "56.5",
    "extruder_clearance_height_to_lid": "180",
    "extruder_clearance_height_to_rod": "25",
    "extruder_clearance_max_radius": "73",
    "extruder_clearance_radius": "57",
    "extruder_colour": [
        "#018001"
    ],
    "extruder_offset": [
        "0x0"
    ],
    "extruder_printable_area": [],
    "extruder_printable_height": [],
    "extruder_type": [
        "Direct Drive"
    ],
    "extruder_variant_list": [
        "Direct Drive Standard"
    ],
    "from": "system",
    "gcode_flavor": "marlin",
    "grab_length": [
        "17.4"
    ],
    "head_wrap_detect_zone": [
        "156x152",
        "180x152",
        "180x180",
        "156x180"
    ],
    "hotend_cooling_rate": [
        "2"
    ],
    "hotend_heating_rate": [
        "2"
    ],
    "inherits": "Bambu Lab A1 mini 0.4 nozzle",
    "instantiation": "true",
    "layer_change_gcode": [
        "; layer num/total_layer_count: {layer_num+1}/[total_layer_count]",
        "; update layer progress",
        "M73 L{layer_num+1}",
        "M991 S0 P{layer_num} ;notify layer change",
        ""
    ],
    "long_retractions_when_cut": [
        "0"
    ],
    "machine_end_gcode": [
        ";===== date: 20231229 =====================",
        ";turn off nozzle clog detect",
        "G392 S0",
        "",
        "M400 ; wait for buffer to clear",
        "G92 E0 ; zero the extruder",
        "G1 E-0.8 F1800 ; retract",
        "G1 Z{max_layer_z + 0.5} F900 ; lower z a little",
        "G1 X0 Y{first_layer_center_no_wipe_tower[1]} F18000 ; move to safe pos",
        "G1 X-13.0 F3000 ; move to safe pos",
        "{if !spiral_mode && print_sequence != \"by object\"}",
        "M1002 judge_flag timelapse_record_flag",
        "M622 J1",
        "M400 P100",
        "M971 S11 C11 O0",
        "M400 P100",
        "M971 S11 C11 O0",
        "M400 P100",
        "M971 S11 C11 O0",
        "M400 P100",
        "M971 S11 C11 O0",
        "M400 P100",
        "M971 S11 C11 O0",
        "M400 P100",
        "M971 S11 C11 O0",
        "M400 P100",
        "M971 S11 C11 O0",
        "M400 P100",
        "M971 S11 C11 O0",
        "M400 P100",
        "M971 S11 C11 O0",
        "M400 P100",
        "M971 S11 C11 O0",
        "M400 P100",
        "M971 S11 C11 O0",
        "M400 P100",
        "M971 S11 C11 O0",
        "M400 P100",
        "M971 S11 C11 O0",
        "M400 P100",
        "M971 S11 C11 O0",
        "M400 P100",
        "M971 S11 C11 O0",
        "M400 P100",
        "M971 S11 C11 O0",
        "M400 P100",
        "M971 S11 C11 O0",
        "M400 P100",
        "M971 S11 C11 O0",
        "M400 P100",
        "M971 S11 C11 O0",
        "M400 P100",
        "M971 S11 C11 O0",
        "M400 P100",
        "M971 S11 C11 O0",
        "M400 P100",
        "M971 S11 C11 O0",
        "M400 P100",
        "M971 S11 C11 O0",
        "M400 P100",
        "M971 S11 C11 O0",
        "M400 P100",
        "M971 S11 C11 O0",
        "M400 P100",
        "M971 S11 C11 O0",
        "M400 P100",
        "M971 S11 C11 O0",
        "M400 P100",
        "M971 S11 C11 O0",
        "M400 P100",
        "M971 S11 C11 O0",
        "M400 P100",
        "M971 S11 C11 O0",
        "M991 S0 P-1 ;end timelapse at safe pos",
        "M623",
        "{endif}",
        "",
        "M140 S0 ; turn off bed",
        "M106 S0 ; turn off fan",
        "M106 P2 S0 ; turn off remote part cooling fan",
        "M106 P3 S0 ; turn off chamber cooling fan",
        "",
        ";G1 X27 F15000 ; wipe",
        "",
        "; pull back filament to AMS",
        "M620 S255",
        "G1 X181 F12000",
        "T255",
        "G1 X0 F18000",
        "G1 X-13.0 F3000",
        "G1 X0 F18000 ; wipe",
        "M621 S255",
        "",
        "M104 S0 ; turn off hotend",
        "",
        "M400 ; wait all motion done",
        "M17 S",
        "M17 Z0.4 ; lower z motor current to reduce impact if there is something in the bottom",
        "{if (max_layer_z + 100.0) < 180}",
        "    G1 Z{max_layer_z + 100.0} F600",
        "    G1 Z{max_layer_z +98.0}",
        "{else}",
        "    G1 Z180 F600",
        "    G1 Z180",
        "{endif}",
        "M400 P100",
        "M17 R ; restore z current",
        "",
        "G90",
        "G1 X-13 Y180 F3600",
        "",
        "G91",
        "G1 Z-1 F600",
        "G90",
        "M83",
        "",
        "M220 S100  ; Reset feedrate magnitude",
        "M201.2 K1.0 ; Reset acc magnitude",
        "M73.2   R1.0 ;Reset left time magnitude",
        "M1002 set_gcode_claim_speed_level : 0",
        "",
        ";=====printer finish  sound=========",
        "M17",
        "M400 S1",
        "M1006 S1",
        "M1006 A0 B20 L100 C37 D20 M100 E42 F20 N100",
        "M1006 A0 B10 L100 C44 D10 M100 E44 F10 N100",
        "M1006 A0 B10 L100 C46 D10 M100 E46 F10 N100",
        "M1006 A44 B20 L100 C39 D20 M100 E48 F20 N100",
        "M1006 A0 B10 L100 C44 D10 M100 E44 F10 N100",
        "M1006 A0 B10 L100 C0 D10 M100 E0 F10 N100",
        "M1006 A0 B10 L100 C39 D10 M100 E39 F10 N100",
        "M1006 A0 B10 L100 C0 D10 M100 E0 F10 N100",
        "M1006 A0 B10 L100 C44 D10 M100 E44 F10 N100",
        "M1006 A0 B10 L100 C0 D10 M100 E0 F10 N100",
        "M1006 A0 B10 L100 C39 D10 M100 E39 F10 N100",
        "M1006 A0 B10 L100 C0 D10 M100 E0 F10 N100",
        "M1006 A44 B10 L100 C0 D10 M100 E48 F10 N100",
        "M1006 A0 B10 L100 C0 D10 M100 E0 F10 N100",
        "M1006 A44 B20 L100 C41 D20 M100 E49 F20 N100",
        "M1006 A0 B20 L100 C0 D20 M100 E0 F20 N100",
        "M1006 A0 B20 L100 C37 D20 M100 E37 F20 N100",
        "M1006 W",
        ";=====printer finish  sound=========",
        "M400 S1",
        "M18 X Y Z",
        ""
    ],
    "machine_load_filament_time": "28",
    "machine_max_acceleration_e": [
        "5000",
        "5000"
    ],
    "machine_max_acceleration_extruding": [
        "20000",
        "20000"
    ],
    "machine_max_acceleration_retracting": [
        "5000",
        "5000"
    ],
    "machine_max_acceleration_travel": [
        "9000",
        "9000"
    ],
    "machine_max_acceleration_x": [
        "20000",
        "20000"
    ],
    "machine_max_acceleration_y": [
        "20000",
        "20000"
    ],
    "machine_max_acceleration_z": [
        "1500",
        "1500"
    ],
    "machine_max_jerk_e": [
        "3",
        "3"
    ],
    "machine_max_jerk_x": [
        "9",
        "9"
    ],
    "machine_max_jerk_y": [
        "9",
        "9"
    ],
    "machine_max_jerk_z": [
        "5",
        "5"
    ],
    "machine_max_speed_e": [
        "30",
        "30"
    ],
    "machine_max_speed_x": [
        "500",
        "200"
    ],
    "machine_max_speed_y": [
        "500",
        "200"
    ],
    "machine_max_speed_z": [
        "30",
        "30"
    ],
    "machine_min_extruding_rate": [
        "0",
        "0"
    ],
    "machine_min_travel_rate": [
        "0",
        "0"
    ],
    "machine_pause_gcode": [
        "M400 U1"
    ],
    "machine_start_gcode": [
        ";===== machine: A1 mini =========================",
        ";===== date: 20240620 =====================",
        "",
        ";===== start to heat heatbead&hotend==========",
        "M1002 gcode_claim_action : 2",
        "M1002 set_filament_type:{filament_type[initial_no_support_extruder]}",
        "M104 S170",
        "M140 S[bed_temperature_initial_layer_single]",
        "G392 S0 ;turn off clog detect",
        "M9833.2",
        ";=====start printer sound ===================",
        "M17",
        "M400 S1",
        "M1006 S1",
        "M1006 A0 B0 L100 C37 D10 M100 E37 F10 N100",
        "M1006 A0 B0 L100 C41 D10 M100 E41 F10 N100",
        "M1006 A0 B0 L100 C44 D10 M100 E44 F10 N100",
        "M1006 A0 B10 L100 C0 D10 M100 E0 F10 N100",
        "M1006 A43 B10 L100 C39 D10 M100 E46 F10 N100",
        "M1006 A0 B0 L100 C0 D10 M100 E0 F10 N100",
        "M1006 A0 B0 L100 C39 D10 M100 E43 F10 N100",
        "M1006 A0 B0 L100 C0 D10 M100 E0 F10 N100",
        "M1006 A0 B0 L100 C41 D10 M100 E41 F10 N100",
        "M1006 A0 B0 L100 C44 D10 M100 E44 F10 N100",
        "M1006 A0 B0 L100 C49 D10 M100 E49 F10 N100",
        "M1006 A0 B0 L100 C0 D10 M100 E0 F10 N100",
        "M1006 A44 B10 L100 C39 D10 M100 E48 F10 N100",
        "M1006 A0 B0 L100 C0 D10 M100 E0 F10 N100",
        "M1006 A0 B0 L100 C39 D10 M100 E44 F10 N100",
        "M1006 A0 B0 L100 C0 D10 M100 E0 F10 N100",
        "M1006 A43 B10 L100 C39 D10 M100 E46 F10 N100",
        "M1006 W",
        "M18",
        ";=====avoid end stop =================",
        "G91",
        "G380 S2 Z30 F1200",
        "G380 S3 Z-20 F1200",
        "G1 Z5 F1200",
        "G90",
        "",
        ";===== reset machine status =================",
        "M204 S6000",
        "",
        "M630 S0 P0",
        "G91",
        "M17 Z0.3 ; lower the z-motor current",
        "",
        "G90",
        "M17 X0.7 Y0.9 Z0.5 ; reset motor current to default",
        "M960 S5 P1 ; turn on logo lamp",
        "G90",
        "M83",
        "M220 S100 ;Reset Feedrate",
        "M221 S100 ;Reset Flowrate",
        "M73.2   R1.0 ;Reset left time magnitude",
        ";====== cog noise reduction=================",
        "M982.2 S1 ; turn on cog noise reduction",
        "",
        ";===== prepare print temperature and material ==========",
        "M400",
        "M18",
        "M109 S100 H170",
        "M104 S170",
        "M400",
        "M17",
        "M400",
        "G28 X",
        "",
        "M211 X0 Y0 Z0 ;turn off soft endstop ; turn off soft endstop to prevent protential logic problem",
        "",
        "M975 S1 ; turn on",
        "",
        "G1 X0.0 F30000",
        "G1 X-13.5 F3000",
        "",
        "M620 M ;enable remap",
        "M620 S[initial_no_support_extruder]A   ; switch material if AMS exist",
        "    G392 S0 ;turn on clog detect",
        "    M1002 gcode_claim_action : 4",
        "    M400",
        "    M1002 set_filament_type:UNKNOWN",
        "    M109 S[nozzle_temperature_initial_layer]",
        "    M104 S250",
        "    M400",
        "    T[initial_no_support_extruder]",
        "    G1 X-13.5 F3000",
        "    M400",
        "    M620.1 E F{filament_max_volumetric_speed[initial_no_support_extruder]/2.4053*60} T{nozzle_temperature_range_high[initial_no_support_extruder]}",
        "    M109 S250 ;set nozzle to common flush temp",
        "    M106 P1 S0",
        "    G92 E0",
        "    G1 E50 F200",
        "    M400",
        "    M1002 set_filament_type:{filament_type[initial_no_support_extruder]}",
        "    M104 S{nozzle_temperature_range_high[initial_no_support_extruder]}",
        "    G92 E0",
        "    G1 E50 F{filament_max_volumetric_speed[initial_no_support_extruder]/2.4053*60}",
        "    M400",
        "    M106 P1 S178",
        "    G92 E0",
        "    G1 E5 F{filament_max_volumetric_speed[initial_no_support_extruder]/2.4053*60}",
        "    M109 S{nozzle_temperature_initial_layer[initial_no_support_extruder]-20} ; drop nozzle temp, make filament shink a bit",
        "    M104 S{nozzle_temperature_initial_layer[initial_no_support_extruder]-40}",
        "    G92 E0",
        "    G1 E-0.5 F300",
        "",
        "    G1 X0 F30000",
        "    G1 X-13.5 F3000",
        "    G1 X0 F30000 ;wipe and shake",
        "    G1 X-13.5 F3000",
        "    G1 X0 F12000 ;wipe and shake",
        "    G1 X0 F30000",
        "    G1 X-13.5 F3000",
        "    M109 S{nozzle_temperature_initial_layer[initial_no_support_extruder]-40}",
        "    G392 S0 ;turn off clog detect",
        "M621 S[initial_no_support_extruder]A",
        "",
        "M400",
        "M106 P1 S0",
        ";===== prepare print temperature and material end =====",
        "",
        "",
        ";===== mech mode fast check============================",
        "M1002 gcode_claim_action : 3",
        "G0 X25 Y175 F20000 ; find a soft place to home",
        ";M104 S0",
        "G28 Z P0 T300; home z with low precision,permit 300deg temperature",
        "G29.2 S0 ; turn off ABL",
        "M104 S170",
        "",
        "; build plate detect",
        "M1002 judge_flag build_plate_detect_flag",
        "M622 S1",
        "  G39.4",
        "  M400",
        "M623",
        "",
        "G1 Z5 F3000",
        "G1 X90 Y-1 F30000",
        "M400 P200",
        "M970.3 Q1 A7 K0 O2",
        "M974 Q1 S2 P0",
        "",
        "G1 X90 Y0 Z5 F30000",
        "M400 P200",
        "M970 Q0 A10 B50 C90 H15 K0 M20 O3",
        "M974 Q0 S2 P0",
        "",
        "M975 S1",
        "G1 F30000",
        "G1 X-1 Y10",
        "G28 X ; re-home XY",
        "",
        ";===== wipe nozzle ===============================",
        "M1002 gcode_claim_action : 14",
        "M975 S1",
        "",
        "M104 S170 ; set temp down to heatbed acceptable",
        "M106 S255 ; turn on fan (G28 has turn off fan)",
        "M211 S; push soft endstop status",
        "M211 X0 Y0 Z0 ;turn off Z axis endstop",
        "",
        "M83",
        "G1 E-1 F500",
        "G90",
        "M83",
        "",
        "M109 S170",
        "M104 S140",
        "G0 X90 Y-4 F30000",
        "G380 S3 Z-5 F1200",
        "G1 Z2 F1200",
        "G1 X91 F10000",
        "G380 S3 Z-5 F1200",
        "G1 Z2 F1200",
        "G1 X92 F10000",
        "G380 S3 Z-5 F1200",
        "G1 Z2 F1200",
        "G1 X93 F10000",
        "G380 S3 Z-5 F1200",
        "G1 Z2 F1200",
        "G1 X94 F10000",
        "G380 S3 Z-5 F1200",
        "G1 Z2 F1200",
        "G1 X95 F10000",
        "G380 S3 Z-5 F1200",
        "G1 Z2 F1200",
        "G1 X96 F10000",
        "G380 S3 Z-5 F1200",
        "G1 Z2 F1200",
        "G1 X97 F10000",
        "G380 S3 Z-5 F1200",
        "G1 Z2 F1200",
        "G1 X98 F10000",
        "G380 S3 Z-5 F1200",
        "G1 Z2 F1200",
        "G1 X99 F10000",
        "G380 S3 Z-5 F1200",
        "G1 Z2 F1200",
        "G1 X99 F10000",
        "G380 S3 Z-5 F1200",
        "G1 Z2 F1200",
        "G1 X99 F10000",
        "G380 S3 Z-5 F1200",
        "G1 Z2 F1200",
        "G1 X99 F10000",
        "G380 S3 Z-5 F1200",
        "G1 Z2 F1200",
        "G1 X99 F10000",
        "G380 S3 Z-5 F1200",
        "",
        "G1 Z5 F30000",
        ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;",
        "G1 X25 Y175 F30000.1 ;Brush material",
        "G1 Z0.2 F30000.1",
        "G1 Y185",
        "G91",
        "G1 X-30 F30000",
        "G1 Y-2",
        "G1 X27",
        "G1 Y1.5",
        "G1 X-28",
        "G1 Y-2",
        "G1 X30",
        "G1 Y1.5",
        "G1 X-30",
        "G90",
        "M83",
        "",
        "G1 Z5 F3000",
        "G0 X50 Y175 F20000 ; find a soft place to home",
        "G28 Z P0 T300; home z with low precision, permit 300deg temperature",
        "G29.2 S0 ; turn off ABL",
        "",
        "G0 X85 Y185 F10000 ;move to exposed steel surface and stop the nozzle",
        "G0 Z-1.01 F10000",
        "G91",
        "",
        "G2 I1 J0 X2 Y0 F2000.1",
        "G2 I-0.75 J0 X-1.5",
        "G2 I1 J0 X2",
        "G2 I-0.75 J0 X-1.5",
        "G2 I1 J0 X2",
        "G2 I-0.75 J0 X-1.5",
        "G2 I1 J0 X2",
        "G2 I-0.75 J0 X-1.5",
        "G2 I1 J0 X2",
        "G2 I-0.75 J0 X-1.5",
        "G2 I1 J0 X2",
        "G2 I-0.75 J0 X-1.5",
        "G2 I1 J0 X2",
        "G2 I-0.75 J0 X-1.5",
        "G2 I1 J0 X2",
        "G2 I-0.75 J0 X-1.5",
        "G2 I1 J0 X2",
        "G2 I-0.75 J0 X-1.5",
        "G2 I1 J0 X2",
        "G2 I-0.75 J0 X-1.5",
        "",
        "G90",
        "G1 Z5 F30000",
        "G1 X25 Y175 F30000.1 ;Brush material",
        "G1 Z0.2 F30000.1",
        "G1 Y185",
        "G91",
        "G1 X-30 F30000",
        "G1 Y-2",
        "G1 X27",
        "G1 Y1.5",
        "G1 X-28",
        "G1 Y-2",
        "G1 X30",
        "G1 Y1.5",
        "G1 X-30",
        "G90",
        "M83",
        "",
        "G1 Z5",
        "G0 X55 Y175 F20000 ; find a soft place to home",
        "G28 Z P0 T300; home z with low precision, permit 300deg temperature",
        "G29.2 S0 ; turn off ABL",
        "",
        "G1 Z10",
        "G1 X85 Y185",
        "G1 Z-1.01",
        "G1 X95",
        "G1 X90",
        "",
        "M211 R; pop softend status",
        "",
        "M106 S0 ; turn off fan , too noisy",
        ";===== wipe nozzle end ================================",
        "",
        "",
        ";===== wait heatbed  ====================",
        "M1002 gcode_claim_action : 2",
        "M104 S0",
        "M190 S[bed_temperature_initial_layer_single];set bed temp",
        "M109 S140",
        "",
        "G1 Z5 F3000",
        "G29.2 S1",
        "G1 X10 Y10 F20000",
        "",
        ";===== bed leveling ==================================",
        ";M1002 set_flag g29_before_print_flag=1",
        "M1002 judge_flag g29_before_print_flag",
        "M622 J1",
        "    M1002 gcode_claim_action : 1",
        "    G29 A1 X{first_layer_print_min[0]} Y{first_layer_print_min[1]} I{first_layer_print_size[0]} J{first_layer_print_size[1]}",
        "    M400",
        "    M500 ; save cali data",
        "M623",
        ";===== bed leveling end ================================",
        "",
        ";===== home after wipe mouth============================",
        "M1002 judge_flag g29_before_print_flag",
        "M622 J0",
        "",
        "    M1002 gcode_claim_action : 13",
        "    G28 T145",
        "",
        "M623",
        "",
        ";===== home after wipe mouth end =======================",
        "",
        "M975 S1 ; turn on vibration supression",
        ";===== nozzle load line ===============================",
        "M975 S1",
        "G90",
        "M83",
        "T1000",
        "",
        "G1 X-13.5 Y0 Z10 F10000",
        "G1 E1.2 F500",
        "M400",
        "M1002 set_filament_type:UNKNOWN",
        "M109 S{nozzle_temperature[initial_extruder]}",
        "M400",
        "",
        "M412 S1 ;    ===turn on  filament runout detection===",
        "M400 P10",
        "",
        "G392 S0 ;turn on clog detect",
        "",
        "M620.3 W1; === turn on filament tangle detection===",
        "M400 S2",
        "",
        "M1002 set_filament_type:{filament_type[initial_no_support_extruder]}",
        ";M1002 set_flag extrude_cali_flag=1",
        "M1002 judge_flag extrude_cali_flag",
        "M622 J1",
        "    M1002 gcode_claim_action : 8",
        "    ",
        "    M400",
        "    M900 K0.0 L1000.0 M1.0",
        "    G90",
        "    M83",
        "    G0 X68 Y-4 F30000",
        "    G0 Z0.3 F18000 ;Move to start position",
        "    M400",
        "    G0 X88 E10  F{outer_wall_volumetric_speed/(24/20)    * 60}",
        "    G0 X93 E.3742  F{outer_wall_volumetric_speed/(0.3*0.5)/4     * 60}",
        "    G0 X98 E.3742  F{outer_wall_volumetric_speed/(0.3*0.5)     * 60}",
        "    G0 X103 E.3742  F{outer_wall_volumetric_speed/(0.3*0.5)/4     * 60}",
        "    G0 X108 E.3742  F{outer_wall_volumetric_speed/(0.3*0.5)     * 60}",
        "    G0 X113 E.3742  F{outer_wall_volumetric_speed/(0.3*0.5)/4     * 60}",
        "    G0 Y0 Z0 F20000",
        "    M400",
        "    ",
        "    G1 X-13.5 Y0 Z10 F10000",
        "    M400",
        "    ",
        "    G1 E10 F{outer_wall_volumetric_speed/2.4*60}",
        "    M983 F{outer_wall_volumetric_speed/2.4} A0.3 H[nozzle_diameter]; cali dynamic extrusion compensation",
        "    M106 P1 S178",
        "    M400 S7",
        "    G1 X0 F18000",
        "    G1 X-13.5 F3000",
        "    G1 X0 F18000 ;wipe and shake",
        "    G1 X-13.5 F3000",
        "    G1 X0 F12000 ;wipe and shake",
        "    G1 X-13.5 F3000",
        "    M400",
        "    M106 P1 S0",
        "",
        "    M1002 judge_last_extrude_cali_success",
        "    M622 J0",
        "        M983 F{outer_wall_volumetric_speed/2.4} A0.3 H[nozzle_diameter]; cali dynamic extrusion compensation",
        "        M106 P1 S178",
        "        M400 S7",
        "        G1 X0 F18000",
        "        G1 X-13.5 F3000",
        "        G1 X0 F18000 ;wipe and shake",
        "        G1 X-13.5 F3000",
        "        G1 X0 F12000 ;wipe and shake",
        "        M400",
        "        M106 P1 S0",
        "    M623",
        "    ",
        "    G1 X-13.5 F3000",
        "    M400",
        "    M984 A0.1 E1 S1 F{outer_wall_volumetric_speed/2.4} H[nozzle_diameter]",
        "    M106 P1 S178",
        "    M400 S7",
        "    G1 X0 F18000",
        "    G1 X-13.5 F3000",
        "    G1 X0 F18000 ;wipe and shake",
        "    G1 X-13.5 F3000",
        "    G1 X0 F12000 ;wipe and shake",
        "    G1 X-13.5 F3000",
        "    M400",
        "    M106 P1 S0",
        "",
        "M623 ; end of \"draw extrinsic para cali paint\"",
        "",
        ";===== extrude cali test ===============================",
        "M104 S{nozzle_temperature_initial_layer[initial_extruder]}",
        "G90",
        "M83",
        "G0 X68 Y-2.5 F30000",
        "G0 Z0.3 F18000 ;Move to start position",
        "G0 X88 E10  F{outer_wall_volumetric_speed/(24/20)    * 60}",
        "G0 X93 E.3742  F{outer_wall_volumetric_speed/(0.3*0.5)/4     * 60}",
        "G0 X98 E.3742  F{outer_wall_volumetric_speed/(0.3*0.5)     * 60}",
        "G0 X103 E.3742  F{outer_wall_volumetric_speed/(0.3*0.5)/4     * 60}",
        "G0 X108 E.3742  F{outer_wall_volumetric_speed/(0.3*0.5)     * 60}",
        "G0 X113 E.3742  F{outer_wall_volumetric_speed/(0.3*0.5)/4     * 60}",
        "G0 X115 Z0 F20000",
        "G0 Z5",
        "M400",
        "",
        ";========turn off light and wait extrude temperature =============",
        "M1002 gcode_claim_action : 0",
        "",
        "M400 ; wait all motion done before implement the emprical L parameters",
        "",
        ";===== for Textured PEI Plate , lower the nozzle as the nozzle was touching topmost of the texture when homing ==",
        ";curr_bed_type={curr_bed_type}",
        "{if curr_bed_type==\"Textured PEI Plate\"}",
        "G29.1 Z{-0.02} ; for Textured PEI Plate",
        "{endif}",
        "",
        "M960 S1 P0 ; turn off laser",
        "M960 S2 P0 ; turn off laser",
        "M106 S0 ; turn off fan",
        "M106 P2 S0 ; turn off big fan",
        "M106 P3 S0 ; turn off chamber fan",
        "",
        "M975 S1 ; turn on mech mode supression",
        "G90",
        "M83",
        "T1000",
        "",
        "M211 X0 Y0 Z0 ;turn off soft endstop",
        "M1007 S1",
        "",
        "",
        "",
        ""
    ],
    "machine_switch_extruder_time": "0",
    "machine_unload_filament_time": "34",
    "master_extruder_id": "1",
    "max_layer_height": [
        "0.14"
    ],
    "min_layer_height": [
        "0.04"
    ],
    "name": "Bambu Lab A1 mini 0.2 nozzle",
    "nozzle_diameter": [
        "0.2"
    ],
    "nozzle_height": "4.76",
    "nozzle_type": [
        "stainless_steel"
    ],
    "nozzle_volume": [
        "92"
    ],
    "physical_extruder_map": [
        "0"
    ],
    "printable_area": [
        "0x0",
        "180x0",
        "180x180",
        "0x180"
    ],
    "printable_height": "180",
    "printer_extruder_id": [
        "1"
    ],
    "printer_extruder_variant": [
        "Direct Drive Standard"
    ],
    "printer_model": "Bambu Lab A1 mini",
    "printer_settings_id": "",
    "printer_structure": "i3",
    "printer_technology": "FFF",
    "printer_variant": "0.2",
    "retract_before_wipe": [
        "0%"
    ],
    "retract_length_toolchange": [
        "2"
    ],
    "retract_lift_above": [
        "0"
    ],
    "retract_lift_below": [
        "179"
    ],
    "retract_restart_extra": [
        "0"
    ],
    "retract_restart_extra_toolchange": [
        "0"
    ],
    "retract_when_changing_layer": [
        "1"
    ],
    "retraction_distances_when_cut": [
        "18"
    ],
    "retraction_length": [
        "0.4"
    ],
    "retraction_minimum_travel": [
        "1"
    ],
    "retraction_speed": [
        "30"
    ],
    "scan_first_layer": "0",
    "setting_id": "GM021",
    "silent_mode": "0",
    "single_extruder_multi_material": "1",
    "support_air_filtration": "0",
    "support_chamber_temp_control": "0",
    "time_lapse_gcode": [
        ";===================== date: 20250206 =====================",
        "{if !spiral_mode && print_sequence != \"by object\"}",
        "; don't support timelapse gcode in spiral_mode and by object sequence for I3 structure printer",
        "; SKIPPABLE_START",
        "; SKIPTYPE: timelapse",
        "M622.1 S1 ; for prev firware, default turned on",
        "M1002 judge_flag timelapse_record_flag",
        "M622 J1",
        "G92 E0",
        "G1 Z{max_layer_z + 0.4}",
        "G1 X0 Y{first_layer_center_no_wipe_tower[1]} F18000 ; move to safe pos",
        "G1 X-13.0 F3000 ; move to safe pos",
        "M400",
        "M1004 S5 P1  ; external shutter",
        "M400 P300",
        "M971 S11 C11 O0",
        "G92 E0",
        "G1 X0 F18000",
        "M623",
        "",
        "; SKIPTYPE: head_wrap_detect",
        "M622.1 S1",
        "M1002 judge_flag g39_3rd_layer_detect_flag",
        "M622 J1",
        "    ; enable nozzle clog detect at 3rd layer",
        "    {if layer_num == 2}",
        "      M400",
        "      G90",
        "      M83",
        "      M204 S5000",
        "      G0 Z2 F4000",
        "      G0 X187 Y178 F20000",
        "      G39 S1 X187 Y178",
        "      G0 Z2 F4000",
        "    {endif}",
        "",
        "",
        "    M622.1 S1",
        "    M1002 judge_flag g39_detection_flag",
        "    M622 J1",
        "      {if !in_head_wrap_detect_zone}",
        "        M622.1 S0",
        "        M1002 judge_flag g39_mass_exceed_flag",
        "        M622 J1",
        "        {if layer_num > 2}",
        "            G392 S0",
        "            M400",
        "            G90",
        "            M83",
        "            M204 S5000",
        "            G0 Z{max_layer_z + 0.4} F4000",
        "            G39.3 S1",
        "            G0 Z{max_layer_z + 0.4} F4000",
        "            G392 S0",
        "          {endif}",
        "        M623",
        "    {endif}",
        "    M623",
        "M623",
        "; SKIPPABLE_END",
        "{endif}",
        "",
        "",
        ""
    ],
    "type": "machine",
    "upward_compatible_machine": [
        "Bambu Lab P1S 0.2 nozzle",
        "Bambu Lab P1P 0.2 nozzle",
        "Bambu Lab X1 0.2 nozzle",
        "Bambu Lab X1 Carbon 0.2 nozzle",
        "Bambu Lab X1E 0.2 nozzle",
        "Bambu Lab A1 0.2 nozzle",
        "Bambu Lab H2D 0.2 nozzle"
    ],
    "wipe": [
        "1"
    ],
    "wipe_distance": [
        "2"
    ],
    "z_hop": [
        "0.4"
    ],
    "z_hop_types": [
        "Auto Lift"
    ]
}